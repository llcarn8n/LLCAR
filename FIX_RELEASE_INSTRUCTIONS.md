# Как исправить текущий релиз (Инструкция для владельца репозитория)

## Проблема

В текущем релизе `#auto_transkrib` есть только автоматически сгенерированные архивы с исходным кодом:
- ❌ Source code (zip) - просто исходники, не установщик
- ❌ Source code (tar.gz) - просто исходники, не установщик

**Это НЕ то, что нужно пользователям!** Им нужны готовые к установке файлы.

## Решение

У вас есть два варианта:

### Вариант 1: Автоматическая сборка (Рекомендуется)

Я создал GitHub Actions workflow, который автоматически соберет и загрузит установщики при создании нового релиза.

**Шаги:**

1. **Удалите старый релиз** (или оставьте как есть)
   - Перейдите: https://github.com/llcarn8n/LLCAR/releases
   - Удалите релиз `#auto_transkrib` если хотите начать заново

2. **Создайте новый тег:**
   ```bash
   git tag -a v1.0.0 -m "LLCAR version 1.0.0"
   git push origin v1.0.0
   ```

3. **Создайте релиз на GitHub:**
   - Перейдите: https://github.com/llcarn8n/LLCAR/releases/new
   - Выберите тег `v1.0.0`
   - Заполните название и описание
   - Нажмите "Publish release"

4. **Дождитесь автоматической сборки:**
   - Workflow запустится автоматически
   - Через ~10-15 минут установщики будут добавлены к релизу
   - Проверьте: https://github.com/llcarn8n/LLCAR/actions

5. **Проверьте результат:**
   Релиз должен содержать:
   - ✅ `LLCAR_Setup_v1.0.0.exe` (~300 MB)
   - ✅ `LLCAR_Portable_v1.0.0.zip` (~600 MB)
   - ✅ Source code (zip)
   - ✅ Source code (tar.gz)

### Вариант 2: Ручная сборка

Если у вас есть компьютер с Windows:

1. **Клонируйте репозиторий:**
   ```bash
   git clone https://github.com/llcarn8n/LLCAR.git
   cd LLCAR
   ```

2. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt
   pip install -r requirements-build.txt
   ```

3. **Соберите исполняемый файл:**
   ```bash
   python build_exe.py
   ```

4. **Создайте ZIP:**
   ```powershell
   cd dist
   Compress-Archive -Path llcar -DestinationPath LLCAR_Portable_v1.0.0.zip
   ```

5. **Создайте установщик (опционально):**
   - Установите Inno Setup: https://jrsoftware.org/isdl.php
   - Откройте `installer.iss`
   - Нажмите Compile
   - Готовый файл: `installer_output/LLCAR_Setup_1.0.0.exe`

6. **Загрузите файлы в релиз:**
   - Откройте существующий релиз: https://github.com/llcarn8n/LLCAR/releases
   - Нажмите "Edit"
   - Перетащите файлы:
     - `LLCAR_Setup_v1.0.0.exe`
     - `LLCAR_Portable_v1.0.0.zip`
   - Нажмите "Update release"

## Что я сделал

Я создал следующие файлы для автоматизации процесса:

1. **`.github/workflows/build-release.yml`**
   - GitHub Actions workflow для автоматической сборки
   - Запускается при создании релиза
   - Собирает установщик и ZIP автоматически

2. **`RELEASE_GUIDE.md`**
   - Подробная инструкция по созданию релизов
   - Объясняет оба способа (автоматический и ручной)
   - Содержит чеклист и шаблоны

3. **Обновлены:**
   - `BUILD.md` - добавлена ссылка на RELEASE_GUIDE.md
   - `DOWNLOAD.md` - объяснение о релизах
   - `README.md` - ссылка на руководство для разработчиков

## Проверка

После создания релиза, убедитесь что:
- [ ] Релиз содержит `LLCAR_Setup_vX.X.X.exe`
- [ ] Релиз содержит `LLCAR_Portable_vX.X.X.zip`
- [ ] Размеры файлов примерно ~300MB и ~600MB
- [ ] Файлы можно скачать
- [ ] Установщик работает на чистой Windows машине

## Важные заметки

⚠️ **GitHub автоматически добавляет** Source code (zip/tar.gz) к каждому релизу. Это нормально, но пользователям нужны именно `.exe` и `.zip` файлы, которые вы должны добавить отдельно.

⚠️ **Я не могу загрузить файлы напрямую** из-за ограничений окружения. Вам нужно либо использовать автоматический workflow, либо загрузить вручную.

## Дополнительная помощь

Для подробных инструкций см.:
- [RELEASE_GUIDE.md](RELEASE_GUIDE.md) - Полное руководство по релизам
- [BUILD.md](BUILD.md) - Инструкции по сборке

Если возникнут проблемы с workflow, проверьте логи в:
https://github.com/llcarn8n/LLCAR/actions

---

**Создано:** 2026-02-05
**Автор:** Claude Code Assistant
