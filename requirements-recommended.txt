# LLCAR - Recommended Installation Requirements
# This file uses more flexible version constraints to avoid dependency conflicts
# Use this file if you experience issues with requirements.txt

# IMPORTANT: Install in this specific order to avoid conflicts
# Step 1: Install core dependencies first
# Step 2: Install whisper models with specific versions
# Step 3: Install remaining packages

# ============================================================================
# Core Dependencies (Install First)
# ============================================================================
numpy>=1.26.0,<2.0.0
scipy>=1.6.0,<2.0.0
pandas>=2.1.0,<3.0.0
pyyaml>=6.0.0,<7.0.0

# PyTorch (Install before other AI packages)
# For CUDA 12.1 support, install separately:
# pip install torch==2.5.1+cu121 torchaudio==2.5.1+cu121 --index-url https://download.pytorch.org/whl/cu121
torch>=2.1.0,<3.0.0
torchaudio>=2.1.0,<3.0.0

# ============================================================================
# Audio/Video Processing
# ============================================================================
ffmpeg-python>=0.2.0
pydub>=0.25.1
librosa>=0.10.1,<0.11.0
soundfile>=0.12.1,<0.14.0
audioread>=2.1.9

# ============================================================================
# Whisper and Transcription (Version-locked to avoid conflicts)
# ============================================================================
# Note: These packages have complex dependency interactions
# Install them with --no-deps if you encounter conflicts

# Option 1: Recommended stable versions
openai-whisper==20231117
faster-whisper==1.0.0  # Pin to 1.0.0 to avoid ctranslate2 conflicts
# whisperx - Install from git for latest fixes:
# pip install git+https://github.com/m-bain/whisperx.git

# Option 2: If whisperx causes issues, comment it out and use only:
# openai-whisper + faster-whisper

# Core ML libraries
transformers>=4.36.0,<5.0.0
huggingface-hub>=0.21.0,<1.0.0
tokenizers>=0.13.0,<1.0.0

# CTranslate2 - specific version for compatibility
ctranslate2>=4.0.0,<4.5.0  # Avoid 4.5+ to prevent conflicts

# ONNX Runtime
onnxruntime>=1.14.0,<1.18.0  # Pin to avoid compatibility issues

# ============================================================================
# Speaker Diarization
# ============================================================================
pyannote.audio>=3.1.0,<4.0.0
speechbrain>=0.5.16,<1.1.0

# ============================================================================
# NLP and Text Processing
# ============================================================================
nltk>=3.8.1,<4.0.0
spacy>=3.7.2,<3.8.0

# Russian language model for spacy (install separately if needed)
# python -m spacy download ru_core_news_sm

# Keywords extraction
scikit-learn>=1.3.2,<1.6.0
summa>=1.2.0,<2.0.0
keybert>=0.8.3,<1.0.0

# ============================================================================
# Data Processing and Utilities
# ============================================================================
tqdm>=4.66.0,<5.0.0
click>=8.1.7,<9.0.0
colorama>=0.4.6,<1.0.0
rich>=13.7.0,<14.0.0

# ============================================================================
# Configuration and Environment
# ============================================================================
python-dotenv>=1.0.0,<2.0.0

# ============================================================================
# Output Formats
# ============================================================================
python-docx>=1.1.0,<2.0.0
openpyxl>=3.1.0,<4.0.0

# ============================================================================
# GUI Components (Optional - can be installed separately)
# ============================================================================
Pillow>=10.0.0,<11.0.0
# tkinter-tooltip>=2.0.0  # Uncomment if using GUI
